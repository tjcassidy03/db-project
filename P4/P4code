1. Create 3 Stored Procedures :- For your project create three stored procedures and emphasize
how or why they would be used
-- Procedure 1 : Add a Song to A Playlist
CREATE PROCEDURE AddPlaylistSong
  @playlist_id VARCHAR(50),
  @track_id VARCHAR(50)
AS
BEGIN
  INSERT INTO playlist_songs(playlist_id, track_id)
  VALUES (@playlist_id, @track_id);
END;

-- Procedure 2 : Adding an Album's songs to a Playlist
CREATE PROCEDURE AddPlaylistAlbum
  @playlist_id VARCHAR(50),
  @album_id VARCHAR(50)
AS
BEGIN
  INSERT INTO playlist_songs(playlist_id, track_id)
  VALUES (@playlist_id,
    SELECT track_id
    FROM album_songs
    WHERE album_id = @album_id); --CHECK THAT THIS WORKS
END;

-- Procedure 3 : Removing an artist's songs from a playlist
CREATE PROCEDURE ArtistPanicButton
  @playlist_id VARCHAR(50)
  @artist_id VARCHAR(50)
AS
BEGIN
  DELETE 
  FROM playlist_songs
  WHERE track_id IN (
    SELECT track_id 
    FROM song_artists
    WHERE artist_id = @artist_id
  )
END;

2. Create 3 functions :- For your project create three functions and emphasize how or why they
would be used
-- Function 1 : Sum a Playlist's songs' lengths
CREATE FUNCTION Spotify_Project.PlaylistLength (@playlist_id)
RETURNS INT
AS
BEGIN
  DECLARE @lengthSum INT;
  SELECT SUM(duration_ms)
  FROM (
    SELECT duration_ms
    FROM playlist_songs
    INNER JOIN Song ON playlist_songs.track_id = Song.track_id
  )
  WHERE playlist_id = @playlist_id;
  RETURN @lengthSum;
END;

-- Function 2 : Count an artist's published songs 
CREATE FUNCTION Spotify_Project.SongCount (@artist_id)
RETURNS INT
AS
BEGIN
  DECLARE @count INT:
  SELECT @count = COUNT(track_id)
  FROM song_artists
  WHERE artist_id = @artist_id;
  RETURN @count;
END;

-- Function 3 : 

3. Create 3 views :- For your project create three views for any 3 tables


4. Create 1 Trigger :- For your project create one Trigger associated with any type of action
between the referenced tables(primary-foreign key relationship tables)


5. Implement 1 Column Encryption :- For any 1 column in your table, implement the column
encryption for security purposes


6. Create 3 non-clustered indexes :- create 3 non-clustered indexes on your tables.
